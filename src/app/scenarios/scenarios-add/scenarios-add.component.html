<div class="container">
  <form class="mt-4" (ngSubmit)="addScenario()" #scenarioForm="ngForm">


    <div class="mb-3">
      <label for="nombre" [ngClass]="currentColor === 'dark' ? 'whiteColorForH2' : ''">Nombre del escenario</label>
      <input
        type="text"
        class="form-control"
        name="nombre"
        id="nombre"
        [(ngModel)]="newScenario.nombre"
        placeholder="Introduce el nombre del escenario!"
        required
        #escenarioModel="ngModel"
        [ngClass]="currentColor === 'dark' ? 'darkSelect' : ''"
      />
      <div class="invalid-feedback" *ngIf="escenarioModel.errors?.['required']">
        Introduce un nombre correcto
      </div>
      <div class="invalid-feedback" *ngIf="escenarioModel.errors?.['pattern']">
        Introduce un nombre correcto.
      </div>
    </div>

    <div class="mb-3" [ngClass]="currentColor === 'dark' ? 'whiteColorForH2' : ''">
      <label for="descripcion">Descripción del escenario</label>
      <textarea
        class="form-control"
        id="descripcion"
        name="descripcion"
        rows="5"
        [(ngModel)]="newScenario.descripcion"
        placeholder="Introduce la descripción del escenario"
        required
        #descripcionModel="ngModel"
        [ngClass]="currentColor === 'dark' ? 'darkSelect' : ''"
      ></textarea>
      <div class="invalid-feedback">Introduce la descripción del escenario.</div>
    </div>

    <div class="containermenu" [ngClass]="currentColor === 'dark' ? 'darkSelect' : ''">
      <h1 [ngClass]="currentColor === 'dark' ? 'whiteColorForH2' : ''">Manejador de Imágenes del Escenario</h1>
      <p (click)="showNewImageForm()" class="btn btn-danger">Añadir Imagen al Escenario</p>

      <div *ngIf="showNewImage" class="new-trait-form" [ngClass]="currentColor === 'dark' ? 'darkSelect' : ''">
        <h2>Añadir Imagen al Escenario</h2>
        <input
        type="file"
        class="form-control"
        id="galeria"
        name="galeria"
        #fileImage2
        (change)="addImage(fileImage2)"
        ngModel
        [ngClass]="currentColor === 'dark' ? 'darkSelect' : ''"
        #galeriaImage1="ngModel"
      />
        <p (click)="addImagenGaleria()" class="btn btn-danger">Añadir Imagen al Escenario</p>
      </div>

      <div class="trait-list" [ngClass]="currentColor === 'dark' ? 'darkSelect' : ''">
        <h2 [ngClass]="currentColor === 'dark' ? 'whiteColorForH2' : ''">Imagenes del Escenario</h2>
        <ul>
          <li *ngFor="let i of newScenario.galeria">
            <img
              [src]="i"
              [ngClass]="{ 'd-none': !newScenario.galeria }"
              class="img-thumbnail mb-3"
            style="width:10%;height:10%;"/>
            <p (click)="deleteImagen(i)" class="btn btn-danger">Eliminar</p>
          </li>
        </ul>
      </div>
    </div>
    <br>



    <div>
      <button type="submit" class="btn btn-danger" *ngIf="!edit"[disabled]="scenarioForm.invalid">Crear</button>
      <button *ngIf="edit"
        type="submit"
        class="btn btn-danger"
        >
        Editar
      </button>
    </div>
  </form>
  </div>
